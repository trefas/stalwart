# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.71.1"
name = "hickory-proto"
version = "0.26.0-alpha.1"
authors = ["The contributors to Hickory DNS"]
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = """
Hickory DNS is a safe and secure DNS library. This is the foundational DNS protocol library for all Hickory DNS projects.
"""
homepage = "https://hickory-dns.org/"
documentation = "https://docs.rs/hickory-proto"
readme = "README.md"
keywords = [
    "DNS",
    "BIND",
    "dig",
    "named",
    "dnssec",
]
categories = ["network-programming"]
license = "MIT OR Apache-2.0"
repository = "https://github.com/hickory-dns/hickory-dns"

[package.metadata.cargo-all-features]
denylist = [
    "__tls",
    "__https",
    "__quic",
    "__h3",
    "__dnssec",
]
max_combination_size = 2
skip_optional_dependencies = true

[package.metadata.docs.rs]
all-features = true
default-target = "x86_64-unknown-linux-gnu"
rustdoc-args = [
    "--cfg",
    "docsrs",
]
targets = [
    "x86_64-apple-darwin",
    "x86_64-pc-windows-msvc",
]

[features]
__dnssec = [
    "dep:bitflags",
    "dep:rustls-pki-types",
    "dep:time",
    "std",
]
__h3 = [
    "dep:h3",
    "dep:h3-quinn",
    "dep:http",
    "std",
]
__https = [
    "dep:bytes",
    "dep:h2",
    "dep:http",
    "std",
]
__quic = [
    "dep:bytes",
    "dep:pin-project-lite",
    "dep:quinn",
    "std",
]
__tls = [
    "dep:bytes",
    "dep:rustls",
    "dep:tokio-rustls",
    "std",
    "tokio",
]
backtrace = [
    "dep:backtrace",
    "std",
]
default = [
    "std",
    "tokio",
]
dnssec-aws-lc-rs = [
    "dep:aws-lc-rs",
    "aws-lc-rs/aws-lc-sys",
    "aws-lc-rs/ring-io",
    "__dnssec",
]
dnssec-ring = [
    "dep:ring",
    "__dnssec",
]
h3-aws-lc-rs = [
    "quic-aws-lc-rs",
    "__h3",
]
h3-ring = [
    "quic-ring",
    "__h3",
]
https-aws-lc-rs = [
    "tls-aws-lc-rs",
    "__https",
]
https-ring = [
    "tls-ring",
    "__https",
]
mdns = [
    "socket2/all",
    "std",
]
no-std-rand = [
    "once_cell/critical-section",
    "dep:critical-section",
]
quic-aws-lc-rs = [
    "quinn/rustls-aws-lc-rs",
    "tls-aws-lc-rs",
    "__quic",
]
quic-ring = [
    "quinn/rustls-ring",
    "tls-ring",
    "__quic",
]
rustls-platform-verifier = [
    "dep:rustls-platform-verifier",
    "std",
]
serde = [
    "dep:serde",
    "std",
    "url/serde",
]
std = [
    "data-encoding/std",
    "futures-channel/std",
    "futures-io/std",
    "futures-util/std",
    "ipnet/std",
    "rand/std",
    "rand/thread_rng",
    "ring?/std",
    "thiserror/std",
    "tracing-subscriber/env-filter",
    "tracing-subscriber/fmt",
    "tracing-subscriber/std",
    "tracing/std",
    "url/std",
]
testing = ["std"]
text-parsing = ["std"]
tls-aws-lc-rs = [
    "tokio-rustls/aws-lc-rs",
    "__tls",
]
tls-ring = [
    "tokio-rustls/ring",
    "__tls",
]
tokio = [
    "dep:tokio",
    "std",
    "tokio/net",
    "tokio/rt",
    "tokio/time",
    "tokio/rt-multi-thread",
]
wasm-bindgen = [
    "dep:wasm-bindgen-crate",
    "dep:js-sys",
]

[lib]
name = "hickory_proto"
path = "src/lib.rs"

[[test]]
name = "integration"
path = "tests/integration/main.rs"

[[bench]]
name = "lib"
path = "benches/lib.rs"

[[bench]]
name = "lower_name_benches"
path = "benches/lower_name_benches.rs"

[[bench]]
name = "name_benches"
path = "benches/name_benches.rs"

[dependencies.async-trait]
version = "0.1.43"

[dependencies.aws-lc-rs]
version = "1.12.3"
features = ["prebuilt-nasm"]
optional = true
default-features = false

[dependencies.backtrace]
version = "0.3.50"
optional = true

[dependencies.bitflags]
version = "2.4.1"
optional = true

[dependencies.bytes]
version = "1"
optional = true

[dependencies.cfg-if]
version = "1"

[dependencies.critical-section]
version = "1.1.1"
optional = true

[dependencies.data-encoding]
version = "2.2.0"
features = ["alloc"]
default-features = false

[dependencies.enum-as-inner]
version = "0.6"

[dependencies.futures-channel]
version = "0.3.5"
features = ["alloc"]
default-features = false

[dependencies.futures-io]
version = "0.3.5"
optional = true
default-features = false

[dependencies.futures-util]
version = "0.3.5"
features = ["alloc"]
default-features = false

[dependencies.h2]
version = "0.4.0"
features = ["stream"]
optional = true

[dependencies.h3]
version = "0.0.7"
optional = true

[dependencies.h3-quinn]
version = "0.0.9"
optional = true

[dependencies.http]
version = "1.1"
optional = true

[dependencies.idna]
version = "1.0.3"
features = [
    "alloc",
    "compiled_data",
]
default-features = false

[dependencies.ipnet]
version = "2.3.0"
default-features = false

[dependencies.js-sys]
version = "0.3.44"
optional = true

[dependencies.once_cell]
version = "1.20.0"
features = ["critical-section"]
default-features = false

[dependencies.pin-project-lite]
version = "0.2"
optional = true

[dependencies.quinn]
version = "0.11.2"
features = [
    "log",
    "runtime-tokio",
]
optional = true
default-features = false

[dependencies.rand]
version = "0.9"
features = [
    "alloc",
    "std_rng",
]
default-features = false

[dependencies.ring]
version = "0.17"
features = ["std"]
optional = true

[dependencies.rustls]
version = "0.23.23"
features = [
    "logging",
    "std",
    "tls12",
]
optional = true
default-features = false

[dependencies.rustls-pki-types]
version = "1.10"
optional = true

[dependencies.rustls-platform-verifier]
version = "0.5"
optional = true

[dependencies.serde]
version = "1.0"
features = ["derive"]
optional = true

[dependencies.socket2]
version = "0.5"
optional = true

[dependencies.thiserror]
version = "2"
default-features = false

[dependencies.time]
version = "0.3"
optional = true

[dependencies.tinyvec]
version = "1.1.1"
features = ["alloc"]

[dependencies.tokio]
version = "1.21"
features = [
    "io-util",
    "macros",
]
optional = true

[dependencies.tokio-rustls]
version = "0.26"
features = ["early-data"]
optional = true
default-features = false

[dependencies.tracing]
version = "0.1.30"
default-features = false

[dependencies.url]
version = "2.5.4"
default-features = false

[dependencies.wasm-bindgen-crate]
version = "0.2.58"
optional = true
package = "wasm-bindgen"

[dependencies.webpki-roots]
version = "0.26"
optional = true

[dev-dependencies.futures-executor]
version = "0.3.5"
features = ["std"]
default-features = false

[dev-dependencies.tokio]
version = "1.21"
features = [
    "rt",
    "time",
    "macros",
]

[dev-dependencies.tracing-subscriber]
version = "0.3"
default-features = false

[lints.rust.unexpected_cfgs]
level = "warn"
priority = 0
check-cfg = ["cfg(nightly)"]
